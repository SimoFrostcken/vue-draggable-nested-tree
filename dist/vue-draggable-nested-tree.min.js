/*!
 * vue-draggable-nested-tree v2.2.3
 * (c) 2018-present phphe <phphe@outlook.com>
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.vueDraggableNestedTree={})}(this,function(e){"use strict";function t(e,t){return 1===arguments.length&&(t=e,e=0),Math.floor(Math.random()*(t-e+1)+e)}function n(e,t){for(var n,r=0;(n=e.indexOf(t))>-1;)e.splice(n,1),r++;return r}function r(e){var t=e.getBoundingClientRect(),n=function(){if("undefined"!=typeof pageYOffset)return{top:pageYOffset,left:pageXOffset};var e=document.body,t=document.documentElement;return{top:(t=t.clientHeight?t:e).scrollTop,left:t.scrollLeft}}();return{x:t.left+n.left,y:t.top+n.top}}function a(e){for(var t=function(e){var t=e.offsetParent;return(!t||t===document.body&&"static"===getComputedStyle(document.body).position)&&(t=document.body.parentElement),t}(e),n={x:e.offsetLeft,y:e.offsetTop},r=e;(r=r.parentElement)!==t&&r;)n.x-=r.scrollLeft,n.y-=r.scrollTop;return n}function o(e,t){e["original_".concat(t)]=e.getAttribute(t)}function i(e,t){var n="original_".concat(t);e.setAttribute(t,e[n])}function d(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function l(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];e.addEventListener?e.addEventListener.apply(e,[t,n].concat(a)):e.attachEvent&&e.attachEvent.apply(e,["on".concat(t),n].concat(a))}function s(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];e.removeEventListener?e.removeEventListener.apply(e,[t,n].concat(a)):e.detachEvent&&e.detachEvent.apply(e,["on".concat(t),n].concat(a))}function c(e,t,n,r,a){var o,i,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3;null==n&&(n=0,r=e.length-1);for(var l,s=0;n>=0&&n<=r;){if(s>=d)throw Error("binarySearch: loop times is over ".concat(d,", you can increase the limit."));if((l=t(i=e[o=Math.floor((r-n)/2+n)],s))>0)r=o-1;else{if(!(l<0))return{index:o,value:i,count:s+1,hit:!0};n=o+1}s++}return a?{index:o,value:i,count:s+1,hit:!1,bigger:l>0}:null}var u;try{u=global}catch(e){u=window}function f(e,t){for(var n,r=0;(n=e.indexOf(t))>-1;)e.splice(n,1),r++;return r}function h(e){return{storage:e,set:function(e,t,n){null==t?this.storage.removeItem(e):this.storage.setItem(e,JSON.stringify({value:t,expired_at:n&&(new Date).getTime()/1e3+60*n}))},get:function(e){var t=this.storage.getItem(e);if(t){if(!(t=JSON.parse(t)).expired_at||t.expired_at>(new Date).getTime())return t.value;this.storage.removeItem(e)}return null},clear:function(){this.storage.clear()}}}h(u.localStorage),h(u.sessionStorage);var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e,t){var n,r=arguments[3],a=(n=e,"[object Array]"===Object.prototype.toString.call(n)?e:[e]).map(function(e,t){return{item:e,index:t}});r&&a.reverse();for(var o=function(){var e=a.shift(),n=e.item,o=e.index,i=e.parent,d=t(n,o,i);if(!1===d)return{v:void 0};if("skip children"===d)return"continue";if("skip siblings"===d&&(a=a.filter(function(e){return e.parent!==i})),n.children){var l,s=n.children;r&&(s=s.slice()).reverse();var c=s.map(function(e,t){return{item:e,index:t,parent:n}});(l=a).push.apply(l,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(c))}};a.length;){var i=o();switch(i){case"continue":continue;default:if("object"===(void 0===i?"undefined":g(i)))return i.v}}}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";e[r]&&f(e[r][n],e),e[r]=t}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(e!==t){var a=t[r][n],o=a.indexOf(t);a[o+1]!==e&&(e[r]===t[r]?(f(a,e),o=a.indexOf(t)):v(e,t[r]),a.splice(o+1,0,e))}}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(e===t)throw"can't append to self";var r=t[n];r[r.length-1]!==e&&(v(e,t),r.push(e))}var N={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-node",class:[e.data.active?e.store.activatedClass:"",e.data.open?e.store.openedClass:"",e.data.class],style:e.data.style,attrs:{id:e.data._id}},[e.isRoot?e._e():n("div",{staticClass:"tree-node-inner-back",class:[e.data.innerBackClass],style:[e.innerBackStyle,e.data.innerBackStyle]},[n("div",{staticClass:"tree-node-inner",class:[e.data.innerClass],style:[e.data.innerStyle]},[e._t("default",null,{data:e.data,store:e.store,vm:e.vm})],2)]),e.childrenVisible?n("div",{staticClass:"tree-node-children"},e._l(e.data.children,function(t){return n("TreeNode",{key:t._id,attrs:{data:t,store:e.store,level:e.childrenLevel},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{data:t.data,store:t.store,vm:t.vm})]}}])})})):e._e()])},staticRenderFns:[],name:"TreeNode",props:{data:{},store:{},level:{default:0}},data:function(){return{vm:this}},computed:{childrenLevel:function(){return this.level+1},isRoot:function(){return this.data.isRoot},childrenVisible:function(){var e=this.data;return this.isRoot||e.children&&e.children.length&&e.open},innerBackStyle:function(){var e={marginBottom:this.store.space+"px"};return!this.isRoot&&this.level>1&&(e.paddingLeft=(this.level-1)*this.store.indent+"px"),e}},watch:{data:{immediate:!0,handler:function(e){e&&(e._vm=this,e._treeNodePropertiesCompleted||e.isRoot||this.store.compeleteNode(e,this.$parent.data))}}}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"he-tree tree"},[n("TreeNode",{attrs:{data:e.rootData,store:e.store},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{data:t.data,store:e.store,vm:t.vm})]}}])})],1)},staticRenderFns:[],props:{data:{},idLength:{type:Number,default:5},indent:{type:Number,default:16},activatedClass:{default:"active"},openedClass:{default:"open"},space:{type:Number,default:10}},components:{TreeNode:N},data:function(){return{store:this,rootData:null}},watch:{data:{immediate:!0,handler:function(e,t){var n=this;e!==t&&(this.rootData=this.rootData||{isRoot:!0,_id:"tree_".concat(this._uid,"_node_root")},p(e,function(e,t,r){n.compeleteNode(e,r)}),this.rootData.children=e)}}},methods:{compeleteNode:function(e,n){var r={open:!0,children:[],active:!1,style:{},class:"",innerStyle:{},innerClass:"",innerBackStyle:{},innerBackClass:{}};for(var a in r)e.hasOwnProperty(a)||this.$set(e,a,r[a]);this.$set(e,"parent",n||this.rootData),e.hasOwnProperty("_id")||(e._id="tree_".concat(this._uid,"_node_").concat(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)r+=a[t(a.length-1)];return n+r}(this.idLength))),e._treeNodePropertiesCompleted=!0},pure:function(e,t,n){var r=this,a=Object.assign({},e);delete a._id,delete a.parent,delete a.children,delete a.open,delete a.active,delete a.style,delete a.class,delete a.innerStyle,delete a.innerClass,delete a.innerBackStyle,delete a.innerBackClass;for(var o=Object.keys(a),i=0;i<o.length;i++){var d=o[i];"_"===d[0]&&delete a[d]}return t&&e.children&&(a.children=e.children.slice(),a.children.forEach(function(e,n){a.children[n]=r.pure(e,t)})),n&&n(a,e)||a},getNodeById:function(e){var t;return p(this.rootData.children,function(n){if(n._id===e)return t=n,!1}),t},getActivated:function(){var e=[];return p(this.rootData.children,function(t){t.active&&e.push(t)}),e},getOpened:function(){var e=[];return p(this.rootData.children,function(t){t.open&&e.push(t)}),e},activeNode:function(e,t){this.activated;t&&this.getActivated().forEach(function(e){e.active=!1}),e.active=!0},toggleActive:function(e,t){e.active?e.active=!1:this.activeNode(e,t)},openNode:function(e,t){var n=this;this.opened;t&&this.getOpened().forEach(function(e){e.open=!1,n.$emit("nodeOpenChanged",e)}),e.open=!0,this.$emit("nodeOpenChanged",e)},toggleOpen:function(e,t){e.open?(e.open=!1,this.$emit("nodeOpenChanged",e)):this.openNode(e,t)},getPureData:function(e){return this.pure(this.rootData,!0,e).children},deleteNode:function(e){return n(e.parent.children,e)}}},x={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},T={isTouch:function(e){return e.type&&e.type.startsWith("touch")},_getStore:function(e){return e._wrapperStore||(e._wrapperStore=[]),e._wrapperStore},on:function(e,t,n){var r,a,o=this,i=function(e){var r;if(o.isTouch(e))r={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY};else if(r={x:e.pageX,y:e.pageY},"start"===t&&1!==e.which)return;return n.call(this,e,r)};this._getStore(e).push({handler:n,wrapper:i});for(var d=arguments.length,s=new Array(d>3?d-3:0),c=3;c<d;c++)s[c-3]=arguments[c];(r=l).call.apply(r,[null,e,x[t][0],i].concat(s)),(a=l).call.apply(a,[null,e,x[t][1],i].concat(s))},off:function(e,t,n){for(var r=this._getStore(e),a=arguments.length,o=new Array(a>3?a-3:0),i=3;i<a;i++)o[i-3]=arguments[i];for(var d=r.length-1;d>=0;d--){var l,c,u=r[d],f=u.handler,h=u.wrapper;if(n===f)(l=s).call.apply(l,[null,e,x[t][0],h].concat(o)),(c=s).call.apply(c,[null,e,x[t][1],h].concat(o)),r.splice(d,1)}}};function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null==t.minTranslate&&(t.minTranslate=10);var n={movedCount:0},r=function(){T.off(e,"end",e._draggbleEventHandler),s(e,"selectstart",h),delete e._draggbleEventHandler};return e._draggbleEventHandler&&r(),e._draggbleEventHandler=function(e,t){n.mouse={x:t.x,y:t.y},n.initialMouse=Object.assign({},n.mouse),T.on(document,"move",u,{passive:!1}),T.on(window,"end",f)},T.on(e,"start",e._draggbleEventHandler),l(e,"selectstart",h),r;function c(r){var i=function(){var r=t.getEl?t.getEl(e,t):e,o=r;t.clone&&(n.triggerEl=r,o=r.cloneNode(!0),r.parentElement.appendChild(o));return{position:a(o),el:o}}(),l=i.el,s=i.position;if(n.el=l,n.initialPosition=Object.assign({},s),!1===(t.drag&&t.drag(r,t,n)))return!1;var c=function(e){var t=e.style.display;e.style.display="block";var n={width:e.offsetWidth,height:e.offsetHeight};return e.style.display=t,n}(l),u=Object.assign({width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),zIndex:9999,opacity:.6,position:"absolute",left:s.x+"px",top:s.y+"px"},t.style||t.getStyle&&t.getStyle(t)||{});for(var f in o(l,"style"),u)l.style[f]=u[f];o(l,"class"),function(e,t){d(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}(l,t.draggingClass)}function u(e,r){n.mouse={x:r.x,y:r.y};var a=n.move={x:n.mouse.x-n.initialMouse.x,y:n.mouse.y-n.initialMouse.y};if(0===n.movedCount&&t.minTranslate){var o=Math.pow(n.move.x,2),i=Math.pow(n.move.y,2);if(Math.pow(o+i,.5)<t.minTranslate)return}var d=!0;if(0===n.movedCount&&!1===c(e)&&(d=!1),e.preventDefault(),d&&t.moving&&!1===t.moving(e,t,n)&&(d=!1),d){if(!n||!n.el)return;Object.assign(n.el.style,{left:n.initialPosition.x+a.x+"px",top:n.initialPosition.y+a.y+"px"}),n.movedCount++}}function f(e){if(T.off(document,"move",u),T.off(window,"end",f),n.movedCount>0){n.movedCount=0;var r=n.el;t.clone?r.parentElement.removeChild(r):(i(r,"style"),i(r,"class")),t.drop&&t.drop(e,t,n)}n={movedCount:0}}function h(e){e.preventDefault()}}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="store")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"has",value:function(e){return this.store.hasOwnProperty(e)}},{key:"remember",value:function(e,t){return this.has(e)||(this.store[e]={value:t()}),this.store[e].value}},{key:"forget",value:function(e){e?this.has(e)&&delete this.store[e]:this.store={}}}])&&E(t.prototype,n),r&&E(t,r),e}();function w(e){return e||""===e}var S={nothing:function(e){},after:function(e){C(e.dplh,e.targetNode,e)},before:function(e){P(e.targetNode.parent)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(e!==t){var a=t[r][n],o=a.indexOf(t);a[o-1]!==e&&(e[r]===t[r]?(f(a,e),o=a.indexOf(t)):v(e,t[r]),a.splice(o,0,e))}}(e.dplh,e.targetNode):C(e.dplh,e.targetNode.parent,e)},append:function(e){P(e.targetNode)?(y(e.dplh,e.targetNode),e.targetNode.open||e.store.toggleOpen(e.targetNode)):C(e.dplh,e.targetNode,e)},prepend:function(e){P(e.targetNode)?(!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(e===t)throw"can't prepend to self";var r=t[n];r[0]!==e&&(v(e,t),r.splice(0,0,e))}(e.dplh,e.targetNode),e.targetNode.open||e.store.toggleOpen(e.targetNode)):C(e.dplh,e.targetNode,e)},"after target parent":function(e){C(e.dplh,e.targetNode.parent,e)},"append prev":function(e){P(e.targetPrev)?(y(e.dplh,e.targetPrev),e.targetPrev.open||e.store.toggleOpen(e.targetPrev)):C(e.dplh,e.targetPrev,e)},"append current tree":function(e){P(e.currentTree.rootData)&&y(e.dplh,e.currentTree.rootData)}};function C(e,t,n){if(!t)return!1;var r=function(e,t){var n=e;for(;n;){if(t(n))return n;n=n.parent}}(t,function(e){return e.parent&&P(e.parent)});return!!r&&(m(e,r),!0)}function D(e){var t;L.hasOwnProperty(e._id)||(t=e.hasOwnProperty("draggable")?e.draggable:!e.parent||D(e.parent),L[e._id]=t);return L[e._id]}function P(e){var t;H.hasOwnProperty(e._id)||(t=e.hasOwnProperty("droppable")?e.droppable:!e.parent||P(e.parent),H[e._id]=t);return H[e._id]}function k(e,t,n,r){var a=t.length;if(r)for(var o=a-1;o>=0;o--){var i=t[o];if(i!==e.node&&n(i,o))return i}else for(var d=0;d<a;d++){var l=t[d];if(l!==e.node&&n(l,d))return l}}for(var B,I={"targetNode existed":function(e){return e.targetNode},"targetNode is placeholder":function(e){return e.targetNode.isDragPlaceHolder},"targetNode at top":function(e){return e.targetAtTop},"targetNode at bottom":function(e){return e.targetAtBottom},"targetNode is the second child of root":function(e){return e.currentTreeRootSecondChildExcludingDragging===e.targetNode},"currentTree existed":function(e){return e.currentTree},"currentTree empty":function(e){return!k(e,e.currentTree.rootData.children,function(e){return e})},"placeholder existed":function(e){return e.dplhEl},"placeholder in currentTree":function(e){return e.dplhElInCurrentTree},"placeholder at top":function(e){return e.dplhAtTop},"targetNode is open":function(e){return e.targetNode.open},"targetNode has children excluding placeholder":function(e){return k(e,e.targetNode.children,function(t){return t!==e.dplh})},"targetNode is 1st child":function(e){return k(e,e.targetNode.parent.children,function(e){return e})===e.targetNode},"targetNode is last child":function(e){return k(e,e.targetNode.parent.children,function(e){return e},!0)===e.targetNode},"on targetNode middle":function(e){return e.offset.y<=e.tiMiddleY},"at left":function(e){return e.offset.x<e.tiOffset.x},"at indent right":function(e){return e.offset.x>e.tiOffset.x+e.currentTree.indent}},A=Object.keys(I),R=function(){var e=A[$],t=I[e];I[e]=function(){return Boolean(t.apply(void 0,arguments))}},$=0;$<A.length;$++)R();var H={},L={};function j(e){var t=this.store.trees,n=e.store,a={event:e.event,el:n.el,vm:this,node:this.data,store:this.store,dplh:this.store.dplh,draggableHelperData:{opt:e.options,store:n}};!function(e,t,n){var r=function(r){Object.defineProperty(e,r,{get:function(){var e=this;return t.remember(r,function(){return n[r].call(e)})}})};for(var a in n)r(a)}(a,new O,{nodeInnerEl:function(){return this.el.querySelector(".tree-node-inner")},offset:function(){return r(this.nodeInnerEl)},offset2:function(){return{x:this.offset.x+this.nodeInnerEl.offsetWidth,y:this.offset.y+this.nodeInnerEl.offsetHeight}},currentTree:function(){var e=this,n=t.find(function(t){return n=e.offset.x,a=e.offset.y,o=t.$el,(i=r(o)).x<=n&&i.x+o.offsetWidth>=n&&i.y<=a&&i.y+o.offsetHeight>=a;var n,a,o,i});if(n){var a=this.store;if(null==B&&(B=a),B!==n){if(!w(a.crossTree)||!w(n.crossTree))return;B=n}if(!w(n.droppable))return;return n}},currentTreeRootEl:function(){return document.getElementById(this.currentTree.rootData._id)},currentTreeRootOf4:function(){return M(this.currentTreeRootEl,this.currentTree.space)},currentTreeRootSecondChildExcludingDragging:function(){var e=this;return this.currentTree.rootData.children.slice(0,3).filter(function(t){return t!==e.node})[1]},dplhEl:function(){return document.getElementById(this.dplh._id)},dplhElInCurrentTree:function(){return Boolean(this.currentTree.$el.querySelector("#".concat(this.dplh._id)))},dplhOf4:function(){return M(this.dplhEl,this.currentTree.space)},dplhAtTop:function(){return Math.abs(this.dplhOf4.y-this.currentTreeRootOf4.y)<5},targetAtTop:function(){return Math.abs(this.tiOf4.y-this.currentTreeRootOf4.y)<5},targetAtBottom:function(){return Math.abs(this.tiOf4.y2-this.currentTreeRootOf4.y2)<5},targetNode:function(){var e=this.currentTree;if(!e)throw"no currentTree";for(var t=this.offset,n=(t.x,t.y),a=e.rootData;;){var o=a.children;if(!o)break;if(this.node.parent===a&&(o=o.slice()).splice(o.indexOf(this.node),1),0===o.length)break;var i=c(o,function(t){var a=document.getElementById(t._id),o=r(a).y;return o+a.offsetHeight+e.space<n?-1:o<=n?0:1},null,null,!0);if(!(a=i.hit?i.value:i.bigger?o[i.index-1]:i.value)){a=o[0];break}if(!a)break;var d=M(document.getElementById(a._id).querySelector(".tree-node-inner"),e.space);if(d.y<=n&&n<=d.y2)break}return a},targetNodeEl:function(){return document.getElementById(this.targetNode._id)},tiInnerEl:function(){return this.targetNodeEl.querySelector(".tree-node-inner")},tiOffset:function(){return r(this.tiInnerEl)},tiOf4:function(){return M(this.tiInnerEl,this.currentTree.space)},tiMiddleY:function(){return this.tiOffset.y+this.tiInnerEl.offsetHeight/2},targetPrevEl:function(){var e=this.targetNodeEl.previousSibling;return d(e,"dragging")&&(e=e.previousSibling),e},targetPrev:function(){var e=this.targetPrevEl.getAttribute("id");return this.currentTree.getNodeById(e)}});var o={},i=function(e){if(!o.hasOwnProperty(e)){var t;try{t=I[e](a)}catch(n){t=n;try{process.env.DEVELOPE_SELF&&console.warn("failed to execute rule '".concat(e,"'"),n)}catch(e){}}o[e]=t}return o[e]};!0===i("currentTree existed")?!1===i("targetNode is placeholder")?!0===i("targetNode is the second child of root")?!1===i("targetNode has children excluding placeholder")?!0===i("on targetNode middle")?S.before(a):!1===i("on targetNode middle")&&(!0===i("at indent right")?S.append(a):!1===i("at indent right")&&S.after(a)):!0===i("targetNode has children excluding placeholder")&&S.prepend(a):!1===i("targetNode is the second child of root")&&(!1===i("currentTree empty")?!0===i("targetNode at top")?!0===i("placeholder in currentTree")?!1===i("targetNode has children excluding placeholder")?!1===i("on targetNode middle")?!1===i("at indent right")?S.after(a):!0===i("at indent right")&&S.append(a):!0===i("on targetNode middle")&&S.before(a):!0===i("targetNode has children excluding placeholder")&&(!1===i("on targetNode middle")?S.prepend(a):!0===i("on targetNode middle")&&S.before(a)):!1===i("placeholder in currentTree")&&S.before(a):!1===i("targetNode at top")&&(!1===i("targetNode at bottom")?!0===i("placeholder at top")?S.prepend(a):!1===i("placeholder at top")&&(!0===i("targetNode has children excluding placeholder")?S.prepend(a):!1===i("targetNode has children excluding placeholder")&&(!1===i("targetNode is 1st child")?!1===i("targetNode is last child")?!0===i("on targetNode middle")?!0===i("at indent right")?S.append(a):!1===i("at indent right")&&S.after(a):!1===i("on targetNode middle")&&(!0===i("at indent right")?S.append(a):!1===i("at indent right")&&S.after(a)):!0===i("targetNode is last child")&&(!0===i("at indent right")?S.append(a):!1===i("at indent right")&&S.after(a)):!0===i("targetNode is 1st child")&&(!0===i("targetNode is last child")?S.append(a):!1===i("targetNode is last child")&&(!1===i("on targetNode middle")?!1===i("at indent right")?S.after(a):!0===i("at indent right")&&S.append(a):!0===i("on targetNode middle")&&(!1===i("at indent right")?S.after(a):!0===i("at indent right")&&S.append(a)))))):!0===i("targetNode at bottom")&&(!0===i("placeholder in currentTree")?!1===i("on targetNode middle")?!0===i("at indent right")?S.append(a):!1===i("at indent right")&&S.after(a):!0===i("on targetNode middle")&&S.append(a):!1===i("placeholder in currentTree")&&S.append(a))):!0===i("currentTree empty")&&S["append current tree"](a)):!0===i("targetNode is placeholder")&&(!1===i("targetNode at bottom")?!1===i("targetNode is the second child of root")?!0===i("targetNode is 1st child")?!1===i("targetNode is last child")?S.nothing(a):!0===i("targetNode is last child")&&(!1===i("on targetNode middle")?!0===i("at left")?S["after target parent"](a):!1===i("at left")&&S.nothing(a):!0===i("on targetNode middle")&&(!0===i("at left")?S["after target parent"](a):!1===i("at left")&&S.nothing(a))):!1===i("targetNode is 1st child")&&(!0===i("targetNode is last child")?!0===i("on targetNode middle")?!0===i("at left")?S["after target parent"](a):!1===i("at left")&&(!0===i("at indent right")?S["append prev"](a):!1===i("at indent right")&&S.nothing(a)):!1===i("on targetNode middle")&&(!0===i("at left")?S["after target parent"](a):!1===i("at left")&&(!0===i("at indent right")?S["append prev"](a):!1===i("at indent right")&&S.nothing(a))):!1===i("targetNode is last child")&&(!0===i("on targetNode middle")?!0===i("at left")?S.nothing(a):!1===i("at left")&&(!0===i("at indent right")?S["append prev"](a):!1===i("at indent right")&&S.nothing(a)):!1===i("on targetNode middle")&&(!0===i("at left")?S.nothing(a):!1===i("at left")&&(!0===i("at indent right")?S["append prev"](a):!1===i("at indent right")&&S.nothing(a))))):!0===i("targetNode is the second child of root")&&(!0===i("on targetNode middle")?!0===i("at indent right")?S["append prev"](a):!1===i("at indent right")&&S.nothing(a):!1===i("on targetNode middle")&&(!0===i("at indent right")?S["append prev"](a):!1===i("at indent right")&&S.nothing(a))):!0===i("targetNode at bottom")&&(!0===i("targetNode is 1st child")?!1===i("on targetNode middle")?!0===i("at left")?S["after target parent"](a):!1===i("at left")&&S.nothing(a):!0===i("on targetNode middle")&&(!1===i("at left")?S.nothing(a):!0===i("at left")&&S["after target parent"](a)):!1===i("targetNode is 1st child")&&(!1===i("on targetNode middle")?!0===i("at left")?S["after target parent"](a):!1===i("at left")&&(!0===i("at indent right")?S["append prev"](a):!1===i("at indent right")&&S.nothing(a)):!0===i("on targetNode middle")&&(!0===i("at left")?S["after target parent"](a):!1===i("at left")&&(!0===i("at indent right")?S["append prev"](a):!1===i("at indent right")&&S.nothing(a)))))):!1===i("currentTree existed")&&S.nothing(a)}function M(e,t){var n=r(e);return n.x2=n.x+e.offsetWidth,n.y2=n.y+e.offsetHeight+t,n}j.dragStart=function(){},j.dragEnd=function(){B=null,H={},L={}};var F={extends:N,name:"TreeNode",mounted:function(){var e=this;if(this.store.isNodeDraggable=D,this.store.isNodeDroppable=P,!this.isRoot&&!this.data.isDragPlaceHolder){var t=this.store.dplh;this.$watch("store.draggable",function(r){if(w(r)){var a=e.store.getTriggerEl?e.store.getTriggerEl(e):e.$el.querySelector(".tree-node-inner");e._draggableDestroy=_(a,{getEl:function(){return e.$el},minTranslate:10,drag:function(n,r,a){j.dragStart();var o={event:n,options:r,store:a};if(e.store.ondragstart&&!1===e.store.ondragstart(e.data,o))return!1;if(!D(e.data))return!1;e.store.$emit("drag",e.data);var i=e.data.parent.children;e.startPosition={siblings:i,index:i.indexOf(e.data)},t.innerStyle.height=a.el.offsetHeight+"px",m(t,e.data),e.data.class+=" dragging"},moving:function(t,n,r){if(0!==r.movedCount){var a={event:t,options:n,store:r};return j.call(e,a)}},drop:function(r,a,o){j.dragEnd();var i={event:r,options:a,store:o};if(e.store.ondragend&&!1===e.store.ondragend(e.data,i))n(t.parent.children,t);else{var d=t._vm.store,l=d!==e.store?e.store:null;m(e.data,t),n(t.parent.children,t),e.data.class=e.data.class.replace(/(^| )dragging( |$)/g," "),d.$emit("drop",e.data,d,l),l&&l.$emit("drop",e.data,d,l);var s=e.data.parent.children;s===e.startPosition.siblings&&s.indexOf(e.data)===e.startPosition.index||(e.store.$emit("change",e.data,d,l),l&&l.$emit("change",e.data,d,l)),e.startPosition=null}}})}else e._draggableDestroy&&(e._draggableDestroy(),e._draggableDestroy=null)},{immediate:!0})}}},Y=[],q={_id:"draggable_tree_drag_placeHolder",level:null,droppable:!1,isDragPlaceHolder:!0,class:"draggable-placeholder",style:{},innerStyle:{},innerClass:"draggable-placeholder-inner",innerBackStyle:{},innerBackClass:"draggable-placeholder-inner-back"},W={extends:b,props:{getTriggerEl:{type:Function},draggable:{},droppable:{default:!0},crossTree:{},ondragstart:{type:Function},ondragend:{type:Function}},components:{TreeNode:F},data:function(){return{dplh:q,trees:Y}},created:function(){Y.push(this)},mounted:function(){},beforeDestroy:function(){n(Y,this)}};e.Tree=b,e.TreeNode=N,e.DraggableTree=W,e.DraggableTreeNode=F,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vue-draggable-nested-tree.min.js.map
