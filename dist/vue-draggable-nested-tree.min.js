/*!
 * vue-draggable-nested-tree v2.2.7
 * (c) 2018-present phphe <phphe@outlook.com>
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.vueDraggableNestedTree={})}(this,function(e){"use strict";var t=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},n=function(e){return Object(t(e))},r={}.hasOwnProperty,o=function(e,t){return r.call(e,t)},i={}.toString,a=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==function(e){return i.call(e).slice(8,-1)}(e)?e.split(""):Object(e)},c=function(e){return a(t(e))},u=Math.ceil,l=Math.floor,d=function(e){return isNaN(e=+e)?0:(e>0?l:u)(e)},s=Math.min,f=Math.max,p=Math.min;function h(e,t){return e(t={exports:{}},t.exports),t.exports}var g,v=h(function(e){var t=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=t)}),y=(v.version,h(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),m=h(function(e){var t=y["__core-js_shared__"]||(y["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:v.version,mode:"pure",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})}),b=0,N=Math.random(),_=m("keys"),x=(g=!1,function(e,t,n){var r,o,i=c(e),a=(r=i.length)>0?s(d(r),9007199254740991):0,u=function(e,t){return(e=d(e))<0?f(e+t,0):p(e,t)}(n,a);if(g&&t!=t){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((g||u in i)&&i[u]===t)return g||u||0;return!g&&-1}),E=function(e){return _[e]||(_[e]=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++b+N).toString(36))}(e))}("IE_PROTO"),O="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),S=Object.keys||function(e){return function(e,t){var n,r=c(e),i=0,a=[];for(n in r)n!=E&&o(r,n)&&a.push(n);for(;t.length>i;)o(r,n=t[i++])&&(~x(a,n)||a.push(n));return a}(e,O)},T=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},w=function(e){return"object"==typeof e?null!==e:"function"==typeof e},P=function(e){if(!w(e))throw TypeError(e+" is not an object!");return e},j=function(e){try{return!!e()}catch(e){return!0}},A=!j(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),I=y.document,k=w(I)&&w(I.createElement),C=!A&&!j(function(){return 7!=Object.defineProperty((e="div",k?I.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),M=Object.defineProperty,R={f:A?Object.defineProperty:function(e,t,n){if(P(e),t=function(e,t){if(!w(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!w(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!w(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!w(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),P(n),C)try{return M(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},L=A?function(e,t,n){return R.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,n))}:function(e,t,n){return e[t]=n,e},F=function(e,t,n){var r,i,a,c=e&F.F,u=e&F.G,l=e&F.S,d=e&F.P,s=e&F.B,f=e&F.W,p=u?v:v[t]||(v[t]={}),h=p.prototype,g=u?y:l?y[t]:(y[t]||{}).prototype;for(r in u&&(n=t),n)(i=!c&&g&&void 0!==g[r])&&o(p,r)||(a=i?g[r]:n[r],p[r]=u&&"function"!=typeof g[r]?n[r]:s&&i?T(a,y):f&&g[r]==a?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(a):d&&"function"==typeof a?T(Function.call,a):a,d&&((p.virtual||(p.virtual={}))[r]=a,e&F.R&&h&&!h[r]&&L(h,r,a)))};F.F=1,F.G=2,F.S=4,F.P=8,F.B=16,F.W=32,F.U=64,F.R=128;var D=F;!function(e,t){var n=(v.Object||{})[e]||Object[e],r={};r[e]=t(n),D(D.S+D.F*j(function(){n(1)}),"Object",r)}("keys",function(){return function(e){return S(n(e))}});var B=v.Object.keys,$=h(function(e){var t=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=t)}),H=($.version,h(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),V=h(function(e){var t=H["__core-js_shared__"]||(H["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:$.version,mode:"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})}),G=0,W=Math.random(),Y=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++G+W).toString(36))},q=h(function(e){var t=V("wks"),n=H.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:Y)("Symbol."+e))}).store=t}),U=function(e){return"object"==typeof e?null!==e:"function"==typeof e},X=function(e){if(!U(e))throw TypeError(e+" is not an object!");return e},z=function(e){try{return!!e()}catch(e){return!0}},J=!z(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),K=H.document,Q=U(K)&&U(K.createElement),Z=function(e){return Q?K.createElement(e):{}},ee=!J&&!z(function(){return 7!=Object.defineProperty(Z("div"),"a",{get:function(){return 7}}).a}),te=function(e,t){if(!U(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!U(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!U(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!U(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},ne=Object.defineProperty,re={f:J?Object.defineProperty:function(e,t,n){if(X(e),t=te(t,!0),X(n),ee)try{return ne(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},oe=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ie=J?function(e,t,n){return re.f(e,t,oe(1,n))}:function(e,t,n){return e[t]=n,e},ae=q("unscopables"),ce=Array.prototype;null==ce[ae]&&ie(ce,ae,{});var ue=function(e){ce[ae][e]=!0},le=function(e,t){return{value:t,done:!!e}},de={},se={}.toString,fe=function(e){return se.call(e).slice(8,-1)},pe=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==fe(e)?e.split(""):Object(e)},he=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},ge=function(e){return pe(he(e))},ve={}.hasOwnProperty,ye=function(e,t){return ve.call(e,t)},me=h(function(e){var t=Y("src"),n=Function.toString,r=(""+n).split("toString");$.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,o,i){var a="function"==typeof o;a&&(ye(o,"name")||ie(o,"name",n)),e[n]!==o&&(a&&(ye(o,t)||ie(o,t,e[n]?""+e[n]:r.join(String(n)))),e===H?e[n]=o:i?e[n]?e[n]=o:ie(e,n,o):(delete e[n],ie(e,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||n.call(this)})}),be=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},Ne=function(e,t,n){var r,o,i,a,c=e&Ne.F,u=e&Ne.G,l=e&Ne.S,d=e&Ne.P,s=e&Ne.B,f=u?H:l?H[t]||(H[t]={}):(H[t]||{}).prototype,p=u?$:$[t]||($[t]={}),h=p.prototype||(p.prototype={});for(r in u&&(n=t),n)i=((o=!c&&f&&void 0!==f[r])?f:n)[r],a=s&&o?be(i,H):d&&"function"==typeof i?be(Function.call,i):i,f&&me(f,r,i,e&Ne.U),p[r]!=i&&ie(p,r,a),d&&h[r]!=i&&(h[r]=i)};H.core=$,Ne.F=1,Ne.G=2,Ne.S=4,Ne.P=8,Ne.B=16,Ne.W=32,Ne.U=64,Ne.R=128;var _e=Ne,xe=Math.ceil,Ee=Math.floor,Oe=function(e){return isNaN(e=+e)?0:(e>0?Ee:xe)(e)},Se=Math.min,Te=function(e){return e>0?Se(Oe(e),9007199254740991):0},we=Math.max,Pe=Math.min,je=V("keys"),Ae=function(e){return je[e]||(je[e]=Y(e))},Ie=function(e){return function(t,n,r){var o,i=ge(t),a=Te(i.length),c=function(e,t){return(e=Oe(e))<0?we(e+t,0):Pe(e,t)}(r,a);if(e&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}}(!1),ke=Ae("IE_PROTO"),Ce=function(e,t){var n,r=ge(e),o=0,i=[];for(n in r)n!=ke&&ye(r,n)&&i.push(n);for(;t.length>o;)ye(r,n=t[o++])&&(~Ie(i,n)||i.push(n));return i},Me="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Re=Object.keys||function(e){return Ce(e,Me)},Le=J?Object.defineProperties:function(e,t){X(e);for(var n,r=Re(t),o=r.length,i=0;o>i;)re.f(e,n=r[i++],t[n]);return e},Fe=H.document,De=Fe&&Fe.documentElement,Be=Ae("IE_PROTO"),$e=function(){},He=function(){var e,t=Z("iframe"),n=Me.length;for(t.style.display="none",De.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),He=e.F;n--;)delete He.prototype[Me[n]];return He()},Ve=Object.create||function(e,t){var n;return null!==e?($e.prototype=X(e),n=new $e,$e.prototype=null,n[Be]=e):n=He(),void 0===t?n:Le(n,t)},Ge=re.f,We=q("toStringTag"),Ye=function(e,t,n){e&&!ye(e=n?e:e.prototype,We)&&Ge(e,We,{configurable:!0,value:t})},qe={};ie(qe,q("iterator"),function(){return this});var Ue=function(e,t,n){e.prototype=Ve(qe,{next:oe(1,n)}),Ye(e,t+" Iterator")},Xe=function(e){return Object(he(e))},ze=Ae("IE_PROTO"),Je=Object.prototype,Ke=Object.getPrototypeOf||function(e){return e=Xe(e),ye(e,ze)?e[ze]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Je:null},Qe=q("iterator"),Ze=!([].keys&&"next"in[].keys()),et=function(){return this},tt=function(e,t,n,r,o,i,a){Ue(n,t,r);var c,u,l,d=function(e){if(!Ze&&e in h)return h[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},s=t+" Iterator",f="values"==o,p=!1,h=e.prototype,g=h[Qe]||h["@@iterator"]||o&&h[o],v=g||d(o),y=o?f?d("entries"):v:void 0,m="Array"==t&&h.entries||g;if(m&&(l=Ke(m.call(new e)))!==Object.prototype&&l.next&&(Ye(l,s,!0),"function"!=typeof l[Qe]&&ie(l,Qe,et)),f&&g&&"values"!==g.name&&(p=!0,v=function(){return g.call(this)}),(Ze||p||!h[Qe])&&ie(h,Qe,v),de[t]=v,de[s]=et,o)if(c={values:f?v:d("values"),keys:i?v:d("keys"),entries:y},a)for(u in c)u in h||me(h,u,c[u]);else _e(_e.P+_e.F*(Ze||p),t,c);return c}(Array,"Array",function(e,t){this._t=ge(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,le(1)):le(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values");de.Arguments=de.Array,ue("keys"),ue("values"),ue("entries");for(var nt=q("iterator"),rt=q("toStringTag"),ot=de.Array,it={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},at=Re(it),ct=0;ct<at.length;ct++){var ut,lt=at[ct],dt=it[lt],st=H[lt],ft=st&&st.prototype;if(ft&&(ft[nt]||ie(ft,nt,ot),ft[rt]||ie(ft,rt,lt),de[lt]=ot,dt))for(ut in tt)ft[ut]||me(ft,ut,tt[ut],!0)}var pt={f:Object.getOwnPropertySymbols},ht={f:{}.propertyIsEnumerable},gt=Object.assign,vt=!gt||j(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=gt({},e)[n]||Object.keys(gt({},t)).join("")!=r})?function(e,t){for(var r=n(e),o=arguments.length,i=1,c=pt.f,u=ht.f;o>i;)for(var l,d=a(arguments[i++]),s=c?S(d).concat(c(d)):S(d),f=s.length,p=0;f>p;)u.call(d,l=s[p++])&&(r[l]=d[l]);return r}:gt;D(D.S+D.F,"Object",{assign:vt});var yt=v.Object.assign,mt={f:{}.propertyIsEnumerable},bt=Object.getOwnPropertyDescriptor,Nt={f:J?bt:function(e,t){if(e=ge(e),t=te(t,!0),ee)try{return bt(e,t)}catch(e){}if(ye(e,t))return oe(!mt.f.call(e,t),e[t])}},_t=function(e,t){if(X(e),!U(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},xt={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=be(Function.call,Nt.f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return _t(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:_t}.set,Et=Me.concat("length","prototype"),Ot={f:Object.getOwnPropertyNames||function(e){return Ce(e,Et)}},St="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Tt="["+St+"]",wt=RegExp("^"+Tt+Tt+"*"),Pt=RegExp(Tt+Tt+"*$"),jt=function(e,t,n){var r={},o=z(function(){return!!St[e]()||"​"!="​"[e]()}),i=r[e]=o?t(At):St[e];n&&(r[n]=i),_e(_e.P+_e.F*o,"String",r)},At=jt.trim=function(e,t){return e=String(he(e)),1&t&&(e=e.replace(wt,"")),2&t&&(e=e.replace(Pt,"")),e},It=jt,kt=Ot.f,Ct=Nt.f,Mt=re.f,Rt=It.trim,Lt=H.Number,Ft=Lt,Dt=Lt.prototype,Bt="Number"==fe(Ve(Dt)),$t="trim"in String.prototype,Ht=function(e){var t=te(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=$t?t.trim():Rt(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>o)return NaN;return parseInt(c,r)}}return+t};if(!Lt(" 0o1")||!Lt("0b1")||Lt("+0x1")){Lt=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof Lt&&(Bt?z(function(){Dt.valueOf.call(n)}):"Number"!=fe(n))?function(e,t,n){var r,o=t.constructor;return o!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&U(r)&&xt&&xt(e,r),e}(new Ft(Ht(t)),n,Lt):Ht(t)};for(var Vt,Gt=J?kt(Ft):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Wt=0;Gt.length>Wt;Wt++)ye(Ft,Vt=Gt[Wt])&&!ye(Lt,Vt)&&Mt(Lt,Vt,Ct(Ft,Vt));Lt.prototype=Dt,Dt.constructor=Lt,me(H,"Number",Lt)}function Yt(e,t){return 1===arguments.length&&(t=e,e=0),Math.floor(Math.random()*(t-e+1)+e)}function qt(e,t){for(var n,r=0;(n=e.indexOf(t))>-1;)e.splice(n,1),r++;return r}function Ut(e){var t=e.getBoundingClientRect(),n=function(){if("undefined"!=typeof pageYOffset)return{top:pageYOffset,left:pageXOffset};var e=document.body,t=document.documentElement;return{top:(t=t.clientHeight?t:e).scrollTop,left:t.scrollLeft}}();return{x:t.left+n.left,y:t.top+n.top}}function Xt(e){for(var t=function(e){var t=e.offsetParent;return(!t||t===document.body&&"static"===getComputedStyle(document.body).position)&&(t=document.body.parentElement),t}(e),n={x:e.offsetLeft,y:e.offsetTop},r=e;(r=r.parentElement)!==t&&r;)n.x-=r.scrollLeft,n.y-=r.scrollTop;return n}function zt(e,t){e["original_".concat(t)]=e.getAttribute(t)}function Jt(e,t){var n="original_".concat(t);e.setAttribute(t,e[n])}function Kt(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function Qt(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];e.addEventListener?e.addEventListener.apply(e,[t,n].concat(o)):e.attachEvent&&e.attachEvent.apply(e,["on".concat(t),n].concat(o))}function Zt(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];e.removeEventListener?e.removeEventListener.apply(e,[t,n].concat(o)):e.detachEvent&&e.detachEvent.apply(e,["on".concat(t),n].concat(o))}function en(e,t,n,r,o){var i,a,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3;null==n&&(n=0,r=e.length-1);for(var u,l=0;n>=0&&n<=r;){if(l>=c)throw Error("binarySearch: loop times is over ".concat(c,", you can increase the limit."));if((u=t(a=e[i=Math.floor((r-n)/2+n)],l))>0)r=i-1;else{if(!(u<0))return{index:i,value:a,count:l+1,hit:!0};n=i+1}l++}return o?{index:i,value:a,count:l+1,hit:!1,bigger:u>0}:null}var tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function nn(e,t){var n,r=arguments[3],o=(n=e,"[object Array]"===Object.prototype.toString.call(n)?e:[e]).map(function(e,t){return{item:e,index:t}});r&&o.reverse();for(var i=function(){var e=o.shift(),n=e.item,i=e.index,a=e.parent,c=t(n,i,a);if(!1===c)return{v:void 0};if("skip children"===c)return"continue";if("skip siblings"===c&&(o=o.filter(function(e){return e.parent!==a})),n.children){var u,l=n.children;r&&(l=l.slice()).reverse();var d=l.map(function(e,t){return{item:e,index:t,parent:n}});(u=o).push.apply(u,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(d))}};o.length;){var a=i();switch(a){case"continue":continue;default:if("object"===(void 0===a?"undefined":tn(a)))return a.v}}}function rn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";e[r]&&qt(e[r][n],e),e[r]=t}function on(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(e!==t){var o=t[r][n],i=o.indexOf(t);o[i+1]!==e&&(e[r]===t[r]?(qt(o,e),i=o.indexOf(t)):rn(e,t[r]),o.splice(i+1,0,e))}}function an(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(e===t)throw"can't append to self";var r=t[n];r[r.length-1]!==e&&(rn(e,t),r.push(e))}var cn=function(e,t,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="TreeNode.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-node",class:[e.data.active?e.store.activatedClass:"",e.data.open?e.store.openedClass:"",e.data.class],style:e.data.style,attrs:{id:e.data._id}},[e.isRoot?e._e():n("div",{staticClass:"tree-node-inner-back",class:[e.data.innerBackClass],style:[e.innerBackStyle,e.data.innerBackStyle]},[n("div",{staticClass:"tree-node-inner",class:[e.data.innerClass],style:[e.data.innerStyle]},[e._t("default",null,{data:e.data,store:e.store,vm:e.vm})],2)]),e.childrenVisible?n("div",{staticClass:"tree-node-children"},e._l(e.data.children,function(t){return n("TreeNode",{key:t._id,attrs:{data:t,store:e.store,level:e.childrenLevel},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{data:t.data,store:t.store,vm:t.vm})]}}])})}),1):e._e()])},staticRenderFns:[]},0,{name:"TreeNode",props:{data:{},store:{},level:{default:0}},data:function(){return{vm:this}},computed:{childrenLevel:function(){return this.level+1},isRoot:function(){return this.data.isRoot},childrenVisible:function(){var e=this.data;return this.isRoot||e.children&&e.children.length&&e.open},innerBackStyle:function(){var e={marginBottom:this.store.space+"px"};return!this.isRoot&&this.level>1&&(e.paddingLeft=(this.level-1)*this.store.indent+"px"),e}},watch:{data:{immediate:!0,handler:function(e){e&&(e._vm=this,e._treeNodePropertiesCompleted||e.isRoot||this.store.compeleteNode(e,this.$parent.data))}}}},void 0,!1);var un,ln,dn,sn=function(e,t,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="Tree.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"he-tree tree"},[n("TreeNode",{attrs:{data:e.rootData,store:e.store},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{data:t.data,store:e.store,vm:t.vm})]}}])})],1)},staticRenderFns:[]},0,{props:{data:{},idLength:{type:Number,default:5},indent:{type:Number,default:16},activatedClass:{default:"active"},openedClass:{default:"open"},space:{type:Number,default:10}},components:{TreeNode:cn},data:function(){return{store:this,rootData:null}},watch:{data:{immediate:!0,handler:function(e,t){var n=this;e!==t&&(this.rootData=this.rootData||{isRoot:!0,_id:"tree_".concat(this._uid,"_node_root"),children:[]},nn(e,function(e,t,r){n.compeleteNode(e,r)}),this.rootData.children=e)}}},methods:{compeleteNode:function(e,t){var n={open:!0,children:[],active:!1,style:{},class:"",innerStyle:{},innerClass:"",innerBackStyle:{},innerBackClass:{}};for(var r in n)e.hasOwnProperty(r)||this.$set(e,r,n[r]);this.$set(e,"parent",t||this.rootData),e.hasOwnProperty("_id")||(e._id="tree_".concat(this._uid,"_node_").concat(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)n+=r[Yt(r.length-1)];return t+n}(this.idLength))),e._treeNodePropertiesCompleted=!0},pure:function(e,t,n){var r=this,o=yt({},e);delete o._id,delete o.parent,delete o.children,delete o.open,delete o.active,delete o.style,delete o.class,delete o.innerStyle,delete o.innerClass,delete o.innerBackStyle,delete o.innerBackClass;for(var i=B(o),a=0;a<i.length;a++){var c=i[a];"_"===c[0]&&delete o[c]}return t&&e.children&&(o.children=e.children.slice(),o.children.forEach(function(e,n){o.children[n]=r.pure(e,t)})),n&&n(o,e)||o},getNodeById:function(e){var t;return nn(this.rootData.children,function(n){if(n._id===e)return t=n,!1}),t},getActivated:function(){var e=[];return nn(this.rootData.children,function(t){t.active&&e.push(t)}),e},getOpened:function(){var e=[];return nn(this.rootData.children,function(t){t.open&&e.push(t)}),e},activeNode:function(e,t){this.activated;t&&this.getActivated().forEach(function(e){e.active=!1}),e.active=!0},toggleActive:function(e,t){e.active?e.active=!1:this.activeNode(e,t)},openNode:function(e,t){var n=this;this.opened;t&&this.getOpened().forEach(function(e){e.open=!1,n.$emit("nodeOpenChanged",e)}),e.open=!0,this.$emit("nodeOpenChanged",e)},toggleOpen:function(e,t){e.open?(e.open=!1,this.$emit("nodeOpenChanged",e)):this.openNode(e,t)},getPureData:function(e){return this.pure(this.rootData,!0,e).children},deleteNode:function(e){return qt(e.parent.children,e)}}},void 0,!1),fn=(un=!0,function(e,t){var n,r,o=String(he(e)),i=Oe(t),a=o.length;return i<0||i>=a?un?"":void 0:(n=o.charCodeAt(i))<55296||n>56319||i+1===a||(r=o.charCodeAt(i+1))<56320||r>57343?un?o.charAt(i):n:un?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}),pn=function(e,t,n){return t+(n?fn(e,t).length:1)},hn=q("toStringTag"),gn="Arguments"==fe(function(){return arguments}()),vn=RegExp.prototype.exec,yn=function(e,t){var n,r,o,i,a=e.exec;if("function"==typeof a){var c=a.call(e,t);if("object"!=typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==(void 0===(n=e)?"Undefined":null===n?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(e){}}(r=Object(n),hn))?o:gn?fe(r):"Object"==(i=fe(r))&&"function"==typeof r.callee?"Arguments":i))throw new TypeError("RegExp#exec called on incompatible receiver");return vn.call(e,t)},mn=RegExp.prototype.exec,bn=String.prototype.replace,Nn=mn,_n=(ln=/a/,dn=/b*/g,mn.call(ln,"a"),mn.call(dn,"a"),0!==ln.lastIndex||0!==dn.lastIndex),xn=void 0!==/()??/.exec("")[1];(_n||xn)&&(Nn=function(e){var t,n,r,o,i=this;return xn&&(n=new RegExp("^"+i.source+"$(?!\\s)",function(){var e=X(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}.call(i))),_n&&(t=i.lastIndex),r=mn.call(i,e),_n&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),xn&&r&&r.length>1&&bn.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var En=Nn;_e({target:"RegExp",proto:!0,forced:En!==/./.exec},{exec:En});var On=q("species"),Sn=!z(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),Tn=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),wn=Math.max,Pn=Math.min,jn=Math.floor,An=/\$([$&`']|\d\d?|<[^>]*>)/g,In=/\$([$&`']|\d\d?)/g;!function(e,t,n){var r=q(e),o=!z(function(){var t={};return t[r]=function(){return 7},7!=""[e](t)}),i=o?!z(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[On]=function(){return n}),n[r](""),!t}):void 0;if(!o||!i||"replace"===e&&!Sn||"split"===e&&!Tn){var a=/./[r],c=n(he,r,""[e],function(e,t,n,r,i){return t.exec===En?o&&!i?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),u=c[0],l=c[1];me(String.prototype,e,u),ie(RegExp.prototype,r,2==t?function(e,t){return l.call(e,this,t)}:function(e){return l.call(e,this)})}}("replace",2,function(e,t,n,r){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var i=r(n,e,this,t);if(i.done)return i.value;var a=X(e),c=String(this),u="function"==typeof t;u||(t=String(t));var l=a.global;if(l){var d=a.unicode;a.lastIndex=0}for(var s=[];;){var f=yn(a,c);if(null===f)break;if(s.push(f),!l)break;""===String(f[0])&&(a.lastIndex=pn(c,Te(a.lastIndex),d))}for(var p,h="",g=0,v=0;v<s.length;v++){f=s[v];for(var y=String(f[0]),m=wn(Pn(Oe(f.index),c.length),0),b=[],N=1;N<f.length;N++)b.push(void 0===(p=f[N])?p:String(p));var _=f.groups;if(u){var x=[y].concat(b,m,c);void 0!==_&&x.push(_);var E=String(t.apply(void 0,x))}else E=o(y,c,m,b,_,t);m>=g&&(h+=c.slice(g,m)+E,g=m+y.length)}return h+c.slice(g)}];function o(e,t,r,o,i,a){var c=r+e.length,u=o.length,l=In;return void 0!==i&&(i=Xe(i),l=An),n.call(a,l,function(n,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":l=i[a.slice(1,-1)];break;default:var d=+a;if(0===d)return a;if(d>u){var s=jn(d/10);return 0===s?a:s<=u?void 0===o[s-1]?a.charAt(1):o[s-1]+a.charAt(1):a}l=o[d-1]}return void 0===l?"":l})}});var kn={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},Cn={isTouch:function(e){return e.type&&e.type.startsWith("touch")},_getStore:function(e){return e._wrapperStore||(e._wrapperStore=[]),e._wrapperStore},on:function(e,t,n){var r,o,i=this._getStore(e),a=this,c=function(e){var r;if(a.isTouch(e))r={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY};else if(r={x:e.pageX,y:e.pageY},"start"===t&&1!==e.which)return;return n.call(this,e,r)};i.push({handler:n,wrapper:c});for(var u=arguments.length,l=new Array(u>3?u-3:0),d=3;d<u;d++)l[d-3]=arguments[d];(r=Qt).call.apply(r,[null,e,kn[t][0],c].concat(l)),(o=Qt).call.apply(o,[null,e,kn[t][1],c].concat(l))},off:function(e,t,n){for(var r=this._getStore(e),o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];for(var c=r.length-1;c>=0;c--){var u,l,d=r[c],s=d.handler,f=d.wrapper;if(n===s)(u=Zt).call.apply(u,[null,e,kn[t][0],f].concat(i)),(l=Zt).call.apply(l,[null,e,kn[t][1],f].concat(i)),r.splice(c,1)}}};function Mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null==(t=Object.assign({preventSelect:!0},t)).minTranslate&&(t.minTranslate=10);var n={movedCount:0},r=function(){Cn.off(e,"end",e._draggbleEventHandler),t.preventSelect&&Zt(e,"selectstart",c),delete e._draggbleEventHandler};return e._draggbleEventHandler&&r(),e._draggbleEventHandler=function(e,t){n.mouse={x:t.x,y:t.y},n.initialMouse=Object.assign({},n.mouse),Cn.on(document,"move",i,{passive:!1}),Cn.on(window,"end",a)},Cn.on(e,"start",e._draggbleEventHandler),t.preventSelect&&Qt(e,"selectstart",c),r;function o(r){var o=function(){var r=t.getEl?t.getEl(e,t):e,o=r;t.clone&&(n.triggerEl=r,o=r.cloneNode(!0),r.parentElement.appendChild(o));return{position:Xt(o),el:o}}(),i=o.el,a=o.position;if(n.el=i,n.initialPosition=Object.assign({},a),!1===(t.drag&&t.drag(r,t,n)))return!1;var c=function(e){var t=e.style.display;e.style.display="block";var n={width:e.offsetWidth,height:e.offsetHeight};return e.style.display=t,n}(i),u=Object.assign({width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),zIndex:9999,opacity:.6,position:"absolute",left:a.x+"px",top:a.y+"px"},t.style||t.getStyle&&t.getStyle(t)||{});for(var l in zt(i,"style"),u)i.style[l]=u[l];zt(i,"class"),function(e,t){Kt(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}(i,t.draggingClass)}function i(e,r){n.mouse={x:r.x,y:r.y};var i=n.move={x:n.mouse.x-n.initialMouse.x,y:n.mouse.y-n.initialMouse.y};if(0===n.movedCount&&t.minTranslate){var a=Math.pow(n.move.x,2),c=Math.pow(n.move.y,2);if(Math.pow(a+c,.5)<t.minTranslate)return}var u=!0;if(0===n.movedCount&&!1===o(e)&&(u=!1),e.preventDefault(),u&&t.moving&&!1===t.moving(e,t,n)&&(u=!1),u){if(!n||!n.el)return;Object.assign(n.el.style,{left:n.initialPosition.x+i.x+"px",top:n.initialPosition.y+i.y+"px"}),n.movedCount++}}function a(e){if(Cn.off(document,"move",i),Cn.off(window,"end",a),n.movedCount>0){n.movedCount=0;var r=n.el;t.clone?r.parentElement.removeChild(r):(Jt(r,"style"),Jt(r,"class")),t.drop&&t.drop(e,t,n)}n={movedCount:0}}function c(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"===t&&e.preventDefault()}}D(D.S+D.F*!A,"Object",{defineProperty:R.f});var Rn=v.Object,Ln=function(e,t,n){return Rn.defineProperty(e,t,n)},Fn=re.f,Dn=Function.prototype,Bn=/^\s*function ([^ (]*)/;function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Ln(e,r.key,r)}}"name"in Dn||J&&Fn(Dn,"name",{configurable:!0,get:function(){try{return(""+this).match(Bn)[1]}catch(e){return""}}});var Hn=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="store")in(t=this)?Ln(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"has",value:function(e){return this.store.hasOwnProperty(e)}},{key:"remember",value:function(e,t){return this.has(e)||(this.store[e]={value:t()}),this.store[e].value}},{key:"forget",value:function(e){e?this.has(e)&&delete this.store[e]:this.store={}}}])&&$n(t.prototype,n),r&&$n(t,r),e}();function Vn(e){return""===e||e}var Gn,Wn,Yn,qn,Un,Xn,zn,Jn,Kn,Qn=Array.isArray||function(e){return"Array"==fe(e)},Zn=q("species"),er=(Yn=1==(Gn=5),qn=2==Gn,Un=3==Gn,Xn=4==Gn,zn=6==Gn,Jn=5==Gn||zn,Kn=Wn||function(e,t){return new(function(e){var t;return Qn(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!Qn(t.prototype)||(t=void 0),U(t)&&null===(t=t[Zn])&&(t=void 0)),void 0===t?Array:t}(e))(t)},function(e,t,n){for(var r,o,i=Xe(e),a=pe(i),c=be(t,n,3),u=Te(a.length),l=0,d=Yn?Kn(e,u):qn?Kn(e,0):void 0;u>l;l++)if((Jn||l in a)&&(o=c(r=a[l],l,i),Gn))if(Yn)d[l]=o;else if(o)switch(Gn){case 3:return!0;case 5:return r;case 6:return l;case 2:d.push(r)}else if(Xn)return!1;return zn?-1:Un||Xn?Xn:d}),tr=!0;"find"in[]&&Array(1).find(function(){tr=!1}),_e(_e.P+_e.F*tr,"Array",{find:function(e){return er(this,e,arguments.length>1?arguments[1]:void 0)}}),ue("find"),document.elementsFromPoint||(document.elementsFromPoint=function(e,t){var n=[],r=void 0;do{r!==document.elementFromPoint(e,t)?(r=document.elementFromPoint(e,t),n.push(r),r.style.pointerEvents="none"):r=!1}while(r);return n.forEach(function(e){return e.style.pointerEvents="all"}),n});var nr={nothing:function(e){},after:function(e){rr(e.dplh,e.targetNode,e)},before:function(e){ir(e.targetNode.parent)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(e!==t){var o=t[r][n],i=o.indexOf(t);o[i-1]!==e&&(e[r]===t[r]?(qt(o,e),i=o.indexOf(t)):rn(e,t[r]),o.splice(i,0,e))}}(e.dplh,e.targetNode):rr(e.dplh,e.targetNode.parent,e)},append:function(e){ir(e.targetNode)?(an(e.dplh,e.targetNode),e.targetNode.open||e.store.toggleOpen(e.targetNode)):rr(e.dplh,e.targetNode,e)},prepend:function(e){ir(e.targetNode)?(!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(e===t)throw"can't prepend to self";var r=t[n];r[0]!==e&&(rn(e,t),r.splice(0,0,e))}(e.dplh,e.targetNode),e.targetNode.open||e.store.toggleOpen(e.targetNode)):rr(e.dplh,e.targetNode,e)},"after target parent":function(e){rr(e.dplh,e.targetNode.parent,e)},"append prev":function(e){ir(e.targetPrev)?(an(e.dplh,e.targetPrev),e.targetPrev.open||e.store.toggleOpen(e.targetPrev)):rr(e.dplh,e.targetPrev,e)},"append current tree":function(e){ir(e.currentTree.rootData)&&an(e.dplh,e.currentTree.rootData)}};function rr(e,t,n){if(!t)return!1;var r=function(e,t){var n=e;for(;n;){if(t(n))return n;n=n.parent}}(t,function(e){return e.parent&&ir(e.parent)});return!!r&&(on(e,r),!0)}function or(e){var t;pr.hasOwnProperty(e._id)||(t=e.hasOwnProperty("draggable")?e.draggable:!e.parent||or(e.parent),pr[e._id]=t);return pr[e._id]}function ir(e){var t;fr.hasOwnProperty(e._id)||(t=e.hasOwnProperty("droppable")?e.droppable:!e.parent||ir(e.parent),fr[e._id]=t);return fr[e._id]}function ar(e,t,n,r){var o=t.length;if(r)for(var i=o-1;i>=0;i--){var a=t[i];if(a!==e.node&&n(a,i))return a}else for(var c=0;c<o;c++){var u=t[c];if(u!==e.node&&n(u,c))return u}}for(var cr,ur={"targetNode existed":function(e){return e.targetNode},"targetNode is placeholder":function(e){return e.targetNode.isDragPlaceHolder},"targetNode at top":function(e){return e.targetAtTop},"targetNode at bottom":function(e){return e.targetAtBottom},"targetNode is the second child of root":function(e){return e.currentTreeRootSecondChildExcludingDragging===e.targetNode},"currentTree existed":function(e){return e.currentTree},"currentTree empty":function(e){return!ar(e,e.currentTree.rootData.children,function(e){return e})},"placeholder existed":function(e){return e.dplhEl},"placeholder in currentTree":function(e){return e.dplhElInCurrentTree},"placeholder at top":function(e){return e.dplhAtTop},"targetNode is open":function(e){return e.targetNode.open},"targetNode has children excluding placeholder":function(e){return ar(e,e.targetNode.children,function(t){return t!==e.dplh})},"targetNode is 1st child":function(e){return ar(e,e.targetNode.parent.children,function(e){return e})===e.targetNode},"targetNode is last child":function(e){return ar(e,e.targetNode.parent.children,function(e){return e},!0)===e.targetNode},"on targetNode middle":function(e){return e.offset.y<=e.tiMiddleY},"at left":function(e){return e.offset.x<e.tiOffset.x},"at indent right":function(e){return e.offset.x>e.tiOffset.x+e.currentTree.indent}},lr=B(ur),dr=function(){var e=lr[sr],t=ur[e];ur[e]=function(){return Boolean(t.apply(void 0,arguments))}},sr=0;sr<lr.length;sr++)dr();var fr={},pr={};function hr(e){var t=this.store.trees,n=e.store,r={event:e.event,el:n.el,vm:this,node:this.data,store:this.store,dplh:this.store.dplh,draggableHelperData:{opt:e.options,store:n}};!function(e,t,n){var r=function(r){Ln(e,r,{get:function(){var e=this;return t.remember(r,function(){return n[r].call(e)})}})};for(var o in n)r(o)}(r,new Hn,{nodeInnerEl:function(){return this.el.querySelector(".tree-node-inner")},offset:function(){return Ut(this.nodeInnerEl)},offset2:function(){return{x:this.offset.x+this.nodeInnerEl.offsetWidth,y:this.offset.y+this.nodeInnerEl.offsetHeight}},currentTree:function(){var e=function(e,t,n){var r=document.elementsFromPoint(e,t).find(function(e){return Kt(e,"tree")});if(r)return n.find(function(e){return e.$el===r})}(this.offset.x,this.offset.y,t);if(e){var n=this.store;if(null==cr&&(cr=n),cr!==e){if(!Vn(n.crossTree)||!Vn(e.crossTree))return;cr=e}if(!Vn(e.droppable))return;return e}},currentTreeRootEl:function(){return document.getElementById(this.currentTree.rootData._id)},currentTreeRootOf4:function(){return gr(this.currentTreeRootEl,this.currentTree.space)},currentTreeRootSecondChildExcludingDragging:function(){var e=this;return this.currentTree.rootData.children.slice(0,3).filter(function(t){return t!==e.node})[1]},dplhEl:function(){return document.getElementById(this.dplh._id)},dplhElInCurrentTree:function(){return Boolean(this.currentTree.$el.querySelector("#".concat(this.dplh._id)))},dplhOf4:function(){return gr(this.dplhEl,this.currentTree.space)},dplhAtTop:function(){return Math.abs(this.dplhOf4.y-this.currentTreeRootOf4.y)<5},targetAtTop:function(){return Math.abs(this.tiOf4.y-this.currentTreeRootOf4.y)<5},targetAtBottom:function(){return Math.abs(this.tiOf4.y2-this.currentTreeRootOf4.y2)<5},targetNode:function(){var e=this.currentTree;if(!e)throw"no currentTree";for(var t=this.offset,n=(t.x,t.y),r=e.rootData;;){var o=r.children;if(!o)break;if(this.node.parent===r&&(o=o.slice()).splice(o.indexOf(this.node),1),0===o.length)break;var i=en(o,function(t){var r=document.getElementById(t._id),o=Ut(r).y;return o+r.offsetHeight+e.space<n?-1:o<=n?0:1},null,null,!0);if(!(r=i.hit?i.value:i.bigger?o[i.index-1]:i.value)){r=o[0];break}if(!r)break;var a=gr(document.getElementById(r._id).querySelector(".tree-node-inner"),e.space);if(a.y<=n&&n<=a.y2)break}return r},targetNodeEl:function(){return document.getElementById(this.targetNode._id)},tiInnerEl:function(){return this.targetNodeEl.querySelector(".tree-node-inner")},tiOffset:function(){return Ut(this.tiInnerEl)},tiOf4:function(){return gr(this.tiInnerEl,this.currentTree.space)},tiMiddleY:function(){return this.tiOffset.y+this.tiInnerEl.offsetHeight/2},targetPrevEl:function(){var e=this.targetNodeEl.previousSibling;return Kt(e,"dragging")&&(e=e.previousSibling),e},targetPrev:function(){var e=this.targetPrevEl.getAttribute("id");return this.currentTree.getNodeById(e)}});var o={},i=function(e){if(!o.hasOwnProperty(e)){var t;try{t=ur[e](r)}catch(n){t=n;try{process.env.DEVELOPE_SELF&&console.warn("failed to execute rule '".concat(e,"'"),n)}catch(e){}}o[e]=t}return o[e]};!0===i("currentTree existed")?!1===i("targetNode is placeholder")?!0===i("targetNode is the second child of root")?!1===i("targetNode has children excluding placeholder")?!0===i("on targetNode middle")?nr.before(r):!1===i("on targetNode middle")&&(!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r)):!0===i("targetNode has children excluding placeholder")&&nr.prepend(r):!1===i("targetNode is the second child of root")&&(!1===i("currentTree empty")?!0===i("targetNode at top")?!0===i("placeholder in currentTree")?!1===i("targetNode has children excluding placeholder")?!1===i("on targetNode middle")?!1===i("at indent right")?nr.after(r):!0===i("at indent right")&&nr.append(r):!0===i("on targetNode middle")&&nr.before(r):!0===i("targetNode has children excluding placeholder")&&(!1===i("on targetNode middle")?nr.prepend(r):!0===i("on targetNode middle")&&nr.before(r)):!1===i("placeholder in currentTree")&&nr.before(r):!1===i("targetNode at top")&&(!1===i("targetNode at bottom")?!0===i("placeholder at top")?nr.prepend(r):!1===i("placeholder at top")&&(!0===i("targetNode has children excluding placeholder")?nr.prepend(r):!1===i("targetNode has children excluding placeholder")&&(!1===i("targetNode is 1st child")?!1===i("targetNode is last child")?!0===i("on targetNode middle")?!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r):!1===i("on targetNode middle")&&(!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r)):!0===i("targetNode is last child")&&(!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r)):!0===i("targetNode is 1st child")&&(!0===i("targetNode is last child")?nr.append(r):!1===i("targetNode is last child")&&(!1===i("on targetNode middle")?!1===i("at indent right")?nr.after(r):!0===i("at indent right")&&nr.append(r):!0===i("on targetNode middle")&&(!1===i("at indent right")?nr.after(r):!0===i("at indent right")&&nr.append(r)))))):!0===i("targetNode at bottom")&&(!0===i("placeholder in currentTree")?!1===i("on targetNode middle")?!0===i("at indent right")?nr.append(r):!1===i("at indent right")&&nr.after(r):!0===i("on targetNode middle")&&nr.append(r):!1===i("placeholder in currentTree")&&nr.append(r))):!0===i("currentTree empty")&&nr["append current tree"](r)):!0===i("targetNode is placeholder")&&(!1===i("targetNode at bottom")?!1===i("targetNode is the second child of root")?!0===i("targetNode is 1st child")?!1===i("targetNode is last child")||!0===i("targetNode is last child")&&(!1===i("on targetNode middle")?!0===i("at left")?nr["after target parent"](r):i("at left"):!0===i("on targetNode middle")&&(!0===i("at left")?nr["after target parent"](r):i("at left"))):!1===i("targetNode is 1st child")&&(!0===i("targetNode is last child")?!0===i("on targetNode middle")?!0===i("at left")?nr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right")):!1===i("on targetNode middle")&&(!0===i("at left")?nr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right"))):!1===i("targetNode is last child")&&(!0===i("on targetNode middle")?!0===i("at left")||!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right")):!1===i("on targetNode middle")&&(!0===i("at left")||!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right"))))):!0===i("targetNode is the second child of root")&&(!0===i("on targetNode middle")?!0===i("at indent right")?nr["append prev"](r):i("at indent right"):!1===i("on targetNode middle")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right"))):!0===i("targetNode at bottom")&&(!0===i("targetNode is 1st child")?!1===i("on targetNode middle")?!0===i("at left")?nr["after target parent"](r):i("at left"):!0===i("on targetNode middle")&&(!1===i("at left")||!0===i("at left")&&nr["after target parent"](r)):!1===i("targetNode is 1st child")&&(!1===i("on targetNode middle")?!0===i("at left")?nr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right")):!0===i("on targetNode middle")&&(!0===i("at left")?nr["after target parent"](r):!1===i("at left")&&(!0===i("at indent right")?nr["append prev"](r):i("at indent right")))))):i("currentTree existed")}function gr(e,t){var n=Ut(e);return n.x2=n.x+e.offsetWidth,n.y2=n.y+e.offsetHeight+t,n}hr.dragStart=function(){},hr.dragEnd=function(){cr=null,fr={},pr={}};var vr=function(e,t,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="DraggableTreeNode.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({},0,{extends:cn,name:"TreeNode",mounted:function(){var e=this;if(this.store.isNodeDraggable=or,this.store.isNodeDroppable=ir,!this.isRoot&&!this.data.isDragPlaceHolder){var t=this.store.dplh;this.$watch("store.draggable",function(n){if(Vn(n)){var r=e.store.getTriggerEl?e.store.getTriggerEl(e):e.$el.querySelector(".tree-node-inner");e._draggableDestroy=Mn(r,{preventSelect:Vn(e.store.preventSelect),getEl:function(){return e.$el},minTranslate:10,drag:function(n,r,o){hr.dragStart();var i={event:n,options:r,store:o};if(e.store.ondragstart&&!1===e.store.ondragstart(e.data,i))return!1;if(!or(e.data))return!1;e.store.$emit("drag",e.data);var a=e.data.parent.children;e.startPosition={siblings:a,index:a.indexOf(e.data)},t.innerStyle.height=o.el.offsetHeight+"px",on(t,e.data),e.data.class+=" dragging"},moving:function(t,n,r){if(0!==r.movedCount){var o={event:t,options:n,store:r};return hr.call(e,o)}},drop:function(n,r,o){hr.dragEnd();var i={event:n,options:r,store:o};if(e.store.ondragend&&!1===e.store.ondragend(e.data,i))qt(t.parent.children,t);else{var a=t._vm.store,c=a!==e.store?e.store:null;on(e.data,t),qt(t.parent.children,t),e.data.class=e.data.class.replace(/(^| )dragging( |$)/g," "),a.$emit("drop",e.data,a,c),c&&c.$emit("drop",e.data,a,c);var u=e.data.parent.children;u===e.startPosition.siblings&&u.indexOf(e.data)===e.startPosition.index||(e.store.$emit("change",e.data,a,c),c&&c.$emit("change",e.data,a,c)),e.startPosition=null}}})}else e._draggableDestroy&&(e._draggableDestroy(),e._draggableDestroy=null)},{immediate:!0})}}},void 0,void 0),yr=[],mr={_id:"draggable_tree_drag_placeHolder",level:null,droppable:!1,isDragPlaceHolder:!0,class:"draggable-placeholder",style:{},innerStyle:{},innerClass:"draggable-placeholder-inner",innerBackStyle:{},innerBackClass:"draggable-placeholder-inner-back"};var br=function(e,t,n,r,o,i,a,c){const u=("function"==typeof n?n.options:n)||{};return u.__file="DraggableTree.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),u._scopeId=r,u}({},0,{extends:sn,props:{getTriggerEl:{type:Function},draggable:{},droppable:{default:!0},crossTree:{},ondragstart:{type:Function},ondragend:{type:Function},preventSelect:{default:!0}},components:{TreeNode:vr},data:function(){return{dplh:mr,trees:yr}},created:function(){yr.push(this)},mounted:function(){},beforeDestroy:function(){qt(yr,this)}},void 0,void 0);e.Tree=sn,e.TreeNode=cn,e.DraggableTree=br,e.DraggableTreeNode=vr,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vue-draggable-nested-tree.min.js.map
